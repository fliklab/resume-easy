# 테스트 전략

## 개요

이 문서는 블록 및 섹션 컴포넌트의 테스트 전략에 대해 설명합니다. 테스트는 다음과 같은 종류로 구분됩니다.

1. 단위 테스트 - 개별 블록 컴포넌트 테스트
2. 통합 테스트 - 섹션 및 복합 컴포넌트 테스트
3. 시각적 테스트 - 스냅샷과 시각적 회귀 테스트
4. 사용자 인터랙션 테스트 - 편집 기능 테스트

## 블록 컴포넌트 테스트

각 블록 컴포넌트는 다음 사항을 테스트해야 합니다.

### KeywordsBlock

- 키워드 목록이 올바르게 렌더링되는지 확인
- 선택적 제목이 있는 경우 렌더링되는지 확인
- 키워드 항목이 올바른 스타일로 표시되는지 확인

### SentenceBlock

- 단일 문장이 올바르게 렌더링되는지 확인
- 마크다운 서식(굵게, 기울임꼴 등)이 올바르게 적용되는지 확인

### ParagraphBlock

- 제목과 본문이 올바르게 렌더링되는지 확인
- 본문에서 여러 줄이 올바르게 처리되는지 확인
- 마크다운 서식이 본문에 적용되는지 확인

### MultiColumnBlock

- 지정된 비율에 따라 칼럼이 생성되는지 확인
- 각 칼럼의 내용이 올바르게 렌더링되는지 확인
- 다양한 비율(1:1, 1:2, 1:3 등)에서 레이아웃이 의도대로 작동하는지 확인

### FixedBlock

- 지정된 위치(우측 상단)에 올바르게 렌더링되는지 확인
- 부모 블록과의 관계가 올바른지 확인

### TableBlock

- 헤더와 행이 올바르게 렌더링되는지 확인
- 셀 내용이 올바르게 표시되는지 확인
- 테이블 스타일이 적용되는지 확인

## 섹션 컴포넌트 테스트

섹션 컴포넌트는 다음 사항을 테스트해야 합니다.

### 일반 섹션 테스트 사항

- 섹션 제목이 올바르게 렌더링되는지 확인
- 내부 블록들이 지정된 순서대로 렌더링되는지 확인
- 섹션 간 여백이 올바른지 확인

### 특정 섹션 테스트

- ProfileSection: 4칼럼 레이아웃이 올바른지 확인
- ExperienceSection: 1:4 비율의 멀티칼럼과 고정블록(period)이 올바르게 배치되는지 확인
- SkillsSection: 기술 스택 키워드가 적절히 그룹화되어 표시되는지 확인

## 통합 테스트 방법

복합 컴포넌트와 전체 문서 레이아웃을 테스트하기 위한 방법

1. 블록들이 모여 섹션을 이루는 통합 테스트
2. 섹션들이 모여 문서를 이루는 통합 테스트
3. 편집 기능과 연동된 통합 테스트

### 테스트 데이터 전략

- 고정 테스트 데이터를 사용한 일관된 테스트
- 다양한 레이아웃 조합을 위한 데이터셋 구성
- 경계 조건 테스트(빈 내용, 매우 긴 내용 등)

## 시각적 테스트 방법

시각적으로 의도한 디자인과 일치하는지 확인하기 위한 방법

1. 스냅샷 테스트: Jest 스냅샷 기능을 사용하여 컴포넌트 렌더링 결과가 이전과 일치하는지 확인
2. Storybook을 활용한 시각적 회귀 테스트: 각 컴포넌트와 상태를 Storybook에 등록하여 시각적으로 검증
3. Chromatic과 같은 도구를 사용한 자동화된 시각적 테스트

## 테스트 자동화

CI/CD 파이프라인에 테스트를 통합하는 방법

1. GitHub Actions를 사용한 자동 테스트 실행
2. 커밋 및 PR 시 테스트 자동화
3. 테스트 커버리지 리포트 생성
4. 시각적 회귀 테스트 자동화

## 테스트 파일 구조

```
tests/
├── unit/                   # 단위 테스트
│   ├── blocks/             # 블록 컴포넌트 테스트
│   └── sections/           # 섹션 컴포넌트 테스트
├── integration/            # 통합 테스트
│   ├── document/           # 전체 문서 통합 테스트
│   └── editor/             # 편집 기능 통합 테스트
├── visual/                 # 시각적 테스트
│   ├── snapshots/          # 스냅샷 테스트
│   └── storybook/          # Storybook 스토리
└── utils/                  # 테스트 유틸리티
    ├── fixtures/           # 테스트 데이터
    ├── mocks/              # 모의 객체
    └── helpers/            # 테스트 헬퍼 함수
```
